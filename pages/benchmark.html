<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags always come first -->
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>CRAG Benchmark | CRAG: Comprehensive RAG Challenge
</title>
  <link rel="canonical" href="../pages/benchmark.html">



  <link rel="stylesheet" href="../theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="../theme/css/font-awesome.min.css">
  <link rel="stylesheet" href="../theme/css/pygments/default.min.css">
  <link rel="stylesheet" href="../theme/css/style.css">
  <link rel="stylesheet" href="../theme/css/custom.css">


<meta name="description" content="üí¨ Introduction How often do you encounter hallucinated responses from LLM-based AI agents? How can we make LLMs trustworthy in providing accurate information? Despite the advancements of LLMs, the issue of hallucination persists as a significant challenge; that is, LLMs may generate answers that lack factual accuracy or grounding. Studies have ‚Ä¶">
</head>

<body>
  <header class="header">
    <div class="container">
      <div class="row">
        <div class="col-xs-4 col-md-2 d-flex flex-wrap align-items-center">
          <a href="../">
            <img class="img-fluid img-logo" src=../images/logo.png alt="CRAG: Comprehensive RAG Challenge">
          </a>
        </div>
	<div class="col-xs-12 col-md-10">
          <h1 class="title"><a href="../">CRAG: Comprehensive RAG Challenge</a></h1>
          <ul class="list-inline">
            <li class="list-inline-item"><a href="../pages/benchmark.html">CRAG Benchmark</a></li>
            <li class="list-inline-item"><a href="https://github.com/facebookresearch/CRAG/blob/main/docs/dataset.md">Download</a></li>
            <li class="list-inline-item"><a href="https://www.aicrowd.com/challenges/meta-comprehensive-rag-benchmark-kdd-cup-2024">KDD Cup</a></li>
            <li class="list-inline-item">|</li>
            <li class="list-inline-item"><a href="../pages/schedule.html">Workshop</a></li>
            <li class="list-inline-item"><a href="../pages/keynotes.html">Keynotes</a></li>
            <li class="list-inline-item"><a href="../pages/papers.html">Papers</a></li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>CRAG Benchmark
</h1>
      <hr>
<article class="article">
  <div class="content">
    <h2>üí¨ Introduction</h2>
<p>How often do you encounter hallucinated responses from LLM-based AI agents? How can we make LLMs trustworthy in providing accurate information? Despite the advancements of LLMs, the issue of hallucination persists as a significant challenge; that is, LLMs may generate answers that lack factual accuracy or grounding. Studies have shown that GPT-4's accuracy in answering questions referring to slow-changing or fast-changing facts is below 15% [<a href="https://arxiv.org/abs/2310.03214">1</a>]; even for stable (never-changing) facts, GPT-4's accuracy in answering questions referring to torso-to-tail (less popular) entities is below 35% [<a href="https://arxiv.org/abs/2308.10168">2</a>]. </p>
<p>Retrieval-Augmented Generation (RAG) has recently emerged as a promising solution to alleviate LLM‚Äôs deficiency in lack of knowledge and attracted a lot of attention from both academia research and industry. Given a question, a RAG system searches external sources to retrieve relevant information, and then provides grounded answers; see figure below for an illustration. </p>
<p><img src="/images/RAG.png"  width="600"></p>
<p>Despite its potential, RAG still faces many challenges, like selecting the most relevant information to ground the answer, reducing question answering latency, and synthesizing information to answer complex questions, urging research and development in this domain. The Meta Comprehensive RAG Challenge (CRAG) aims to provide a good benchmark with clear metrics and evaluation protocols, to enable rigorous assessment of the RAG systems, drive innovations, and advance the solutions.</p>
<p>üíª <strong>What is Comprehensive RAG (CRAG) Benchmark?</strong>
The Comprehensive RAG (CRAG) Benchmark evaluates RAG systems across five domains and eight question types, and provides a practical set-up to evaluate RAG systems. In particular, CRAG includes questions with answers that change from over seconds to over years; it considers entity popularity and covers not only head, but also torso and tail facts; it contains simple-fact questions as well as 7 types of complex questions such as comparison, aggregation and set questions to test the reasoning and synthesis capabilities of RAG solutions. </p>
<h2>üíª META Comprehensive RAG Challenge</h2>
<p>A RAG QA system takes a question <strong>Q</strong> as input and outputs an answer <strong>A</strong>; the answer is generated by LLMs according to information retrieved from external sources, or directly from the knowledge internalized in the model. The answer should provide useful information to answer the question, without adding any hallucination or harmful content such as profanity. </p>
<h3>üèπ Challenge Tasks</h3>
<p>This challenge comprises of three tasks designed to improve question-answering (QA) systems.</p>
<p><strong>TASK #1</strong>: WEB-BASED RETRIEVAL SUMMARIZATION
Participants receive <strong>5 web pages</strong> per question, potentially containing relevant information. The objective is to measure the systems' capability to identify and condense this information into accurate answers.</p>
<p><strong>TASK #2</strong>: KNOWLEDGE GRAPH AND WEB AUGMENTATION
This task introduces <strong>mock APIs</strong> to access information from underlying mock Knowledge Graphs (KGs), with structured data possibly related to the questions. Participants use mock APIs, inputting parameters derived from the questions, to retrieve relevant data for answer formulation. The evaluation focuses on the systems' ability to query structured data and integrate information from various sources into comprehensive answers.</p>
<p><strong>TASK #3</strong>: END-TO-END RAG
The third task increases complexity by providing <strong>50 web pages</strong> and <strong>mock API</strong> access for each question, encountering both relevant information and noises. It assesses the systems' skill in selecting the most important data from a larger set, reflecting the challenges of real-world information retrieval and integration.</p>
<p>Each task builds upon the previous, steering participants toward developing sophisticated end-to-end RAG systems. This challenge showcases the potential of RAG technology in navigating and making sense of extensive information repositories, setting the stage for future AI research and development breakthroughs.</p>
<p><img src="/images/tasks.png"  width="600"></p>
<h3>üíØ Evaluation Metrics</h3>
<p>RAG systems are evaluated using a scoring method that measures response quality to questions in the evaluation set. Responses are rated as perfect, acceptable, missing, or incorrect:</p>
<ul>
<li><strong>Perfect</strong>: The response correctly answers the user question and contains no hallucinated content.</li>
<li><strong>Acceptable</strong>: The response provides a useful answer to the user question, but may contain minor errors that do not harm the usefulness of the answer. </li>
<li><strong>Missing</strong>: The answer does not provide the requested information. Such as ‚ÄúI don‚Äôt know‚Äù, ‚ÄúI‚Äôm sorry I can‚Äôt find ...‚Äù or similar sentences without providing a concrete answer to the question. </li>
<li><strong>Incorrect</strong>: The response provides wrong or irrelevant information to answer the user question</li>
</ul>
<p>Scores are given as follows: perfect = 1 points, acceptable = 0.5 point, missing = 0 points, and incorrect = -1 point. The overall score is a macro-average across all domains, with questions weighted based on type popularity and entity popularity (weights will not be disclosed).</p>
<h3>üñä Evaluation Techniques</h3>
<p>This challenge employs both automated (auto-eval) and human (human-eval) evaluations. Auto-eval selects the top ten teams, while human-eval decides the top three for each task.</p>
<ul>
<li>
<p><strong>Automatic Evaluation</strong>: Automatic evaluation employs rule-based matching and GPT-4 assessment to check answer correctness. It will assign three scores: correct (1 point), missing (0 points), and incorrect (-1 point). </p>
</li>
<li>
<p><strong>Human Evaluation</strong>: Human annotators will decide the rating of each response as Perfect, Acceptable, Missing, Incorrect. In addition, human evaluator will require basic fluency for an answer to be considered Perfect.</p>
</li>
</ul>
<h3>üìô Evaluation Details</h3>
<ul>
<li>Every query is associated with a <strong>query_time</strong> (when the query was made), the query_time may affect the answers, in particular for dynamic questions.</li>
<li>All <strong>False Premise</strong> questions should be answered with a standard response <strong>‚Äúinvalid question‚Äù</strong>.</li>
<li>All <strong>Missing</strong> answers should be using a standard response <strong>‚ÄúI don't know.‚Äù</strong>.</li>
<li>The ground truth is the answer that was correct at the point when the question was posed and data were collected.</li>
</ul>
<h2>üìä CRAG Dataset Description</h2>
<h3>üìù Question Answer Pairs</h3>
<p>CRAG includes question-answer pairs that mirror real scenarios. It covers five domains: Finance, Sports, Music, Movies, and Encyclopedia Open domain. These domains represent the spectrum of information change rates‚Äîrapid (Finance and Sports), gradual (Music and Movies), and stable (Open domain). </p>
<p>CRAG includes eight types of questions in English:</p>
<ul>
<li><strong>Simple question</strong>: Questions asking for simple facts, such as <em>the birth date of a person</em> and <em>the authors of a book</em>.</li>
<li><strong>Simple question with some condition</strong>:  Questions asking for simple facts with some given conditions, such as <em>stock price on a certain date</em> and <em>a director's recent movies in a certain genre</em>.</li>
<li><strong>Set question</strong> Questions that expect a set of entities or objects as the answer. An example is <em>what are the continents in the southern hemisphere?</em></li>
<li><strong>Comparison question</strong>: Questions that may compare two entities, such as <em>who started performing earlier, Adele or Ed Sheeran?</em></li>
<li><strong>Aggregation question</strong>: Questions that may need aggregation of retrieval results to answer, for example, <em>how many Oscar awards did Meryl Streep win?</em></li>
<li><strong>Multi-hop questions</strong>: Questions that may require chaining multiple pieces of information to compose the answer, such as <em>who acted in Ang Lee's latest movie?</em></li>
<li><strong>Post-processing question</strong>: Questions that need reasoning or processing of the retrieved information to obtain the answer, for instance, <em>How many days did Thurgood Marshall serve as a Supreme Court justice?</em></li>
<li><strong>False Premise question</strong>: Questions that have a false preposition or assumption; for example, <em>What's the name of Taylor Swift's rap album before she transitioned to pop?</em> (Taylor Swift didn't release any rap album.)</li>
</ul>
<h3>üìÅ Retrieval Contents</h3>
<p>The dataset includes web search results and mock KGs to mimic real-world RAG retrieval sources. Web search contents were created by storing up to 50 pages from search queries related to each question. Mock KGs were created using the data behind the questions, supplemented with "hard negative" data to simulate a more challenging retrieval environment. Mock APIs facilitate structured searches within these KGs, and we provide the same API for all five domains to simulate Knowledge Graph access.</p>
<h3>üîë Baseline implementation</h3>
<p>We provide users with three baseline models to help get started. Detailed implementations of these baseline models are accessible through the links provided below. Please refer to <a href="https://github.com/facebookresearch/CRAG/blob/main/docs/download_baseline_model_weights.md">this page</a> for steps to download (and check in) the models weights required for the baseline models, and refer to the inline documentation for implementation guide and further details.</p>
<ol>
<li>
<p><a href="https://github.com/facebookresearch/CRAG/blob/main/models/vanilla_llama_baseline.py"><strong>Vanilla Llama 3 Model</strong></a>.</p>
</li>
<li>
<p><a href="https://github.com/facebookresearch/CRAG/blob/main/models/rag_llama_baseline.py"><strong>RAG Baseline Model</strong></a>.</p>
</li>
<li>
<p><a href="https://github.com/facebookresearch/CRAG/blob/main/models/rag_knowledge_graph_baseline.py"><strong>RAG Knowledge Graph Baseline Model</strong></a>.</p>
</li>
</ol>
<h2>‚õ∞ What Makes CRAG Standout?</h2>
<ul>
<li><strong>Realism:</strong> First and foremost, a good benchmark shall best reflect real use cases. In other words, a solution that achieves high metrics in the benchmark shall also perform very well in real scenarios. CRAG query construction considers smart assistants use cases and are realistic; weighting are applied according to the complexity type and entity popularity, such that the metrics can well reflect how we satisfy real user needs. </li>
<li><strong>Richness:</strong> A good benchmark shall contain a diverse set of instance types, covering both common use cases, and some complex and advanced use cases, to reveal possible limitations of existing solutions at various aspects. CRAG covers five domains, consider facts of different timeliness (real-time, fast changing, slow-changing, stable) and different popularities (head, torso, tail), and contains questions of different complexities (from simple facts to requiring reasoning).</li>
<li><strong>Reliability:</strong> A good benchmark shall allow reliable assessment of metrics. CRAG has manually verified ground truths; the metrics are carefully designed to distinguish correct, incorrect, and missing answers; automatic evaluation mechanisms are designed and provided; the number of instances allows for statistical significant metrics, and tasks are carefully designed to test out different key technical components of the solutions.</li>
<li><strong>Accessibility:</strong> CRAG provides not only the problem set and ground truths, but also the mock data sources for retrieval to ensure fair comparisons.</li>
</ul>
<h2>üóÇÔ∏è Related Work</h2>
<p><img src="/images/related_work.png"  width="600"></p>
<h4>References</h4>
<p>[1] Tu Vu et al., "<strong>FreshLLMs: Refreshing Large Language Models with search engine augmentation</strong>", arXiv, 10/2023. Available at: <a href="https://arxiv.org/abs/2310.03214">https://arxiv.org/abs/2310.03214</a></p>
<p>[2] Kai Sun et al., "<strong>Head-to-Tail: How Knowledgeable are Large Language Models (LLMs)? A.K.A. Will LLMs Replace Knowledge Graphs?</strong>", NAACL, 2024. Available at: <a href="https://arxiv.org/abs/2308.10168">https://arxiv.org/abs/2308.10168</a></p>
<p>[3] Ricardo Usbeck et al., "<strong>QALD-10‚ÄìThe 10th challenge on question answering over linked data</strong>", Semantic Web Preprint (2023), 1‚Äì15. Available at: <a href="https://www.semantic-web-journal.net/content/qald-10-%E2%80%94-10th-challenge-question-answering-over-linked-data">https://www.semantic-web-journal.net/content/qald-10-%E2%80%94-10th-challenge-question-answering-over-linked-data</a></p>
<p>[4] Payal Bajaj et al., "<strong>Ms marco: A human-generated machine reading comprehension dataset</strong>", (2016). Available at: <a href="https://arxiv.org/abs/1611.09268">https://arxiv.org/abs/1611.09268</a></p>
<p>[5] Tom Kwiatkowski et al., "<strong>Natural questions: a benchmark for question answering research</strong>", Transactions of the Association for Computational Linguistics 7 (2019), 453‚Äì466. Available at: <a href="https://aclanthology.org/Q19-1026/">https://aclanthology.org/Q19-1026/</a></p>
<p>[6] Jiawei Chen et al., "<strong>Benchmarking large language models in retrieval-augmented generation</strong>", arXiv preprint arXiv:2309.01431 (2023). Available at: <a href="https://arxiv.org/abs/2309.01431">https://arxiv.org/abs/2309.01431</a></p>
  </div>
</article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="row">
       <ul class="col-sm-6 list-inline">



        </ul>
        <p class="col-sm-6 text-sm-right text-muted">
          <a href="https://github.com/getpelican/pelican" target="_blank">powered by Pelican</a>
          /
          <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
	  /
	  <a href="https://github.com/ml4health/ml4health.github.io" target="_blank">ML4H</a>
        </p>
      </div>
    </div>
  </footer>
</body>

</html>